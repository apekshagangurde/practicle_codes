<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ML4 - KMeans Clustering with Iris Dataset</title>
    <link rel="stylesheet" href="ml4-style.css">
</head>
<body>
    <style>
        button {
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            padding: 12px 20px;
            transition: background-color 0.3s;
            display: block;
            margin: 20px auto;
        }
        
        button:hover {
            background-color: #2980b9;
        }
    </style>
    <div class="container">
        <h1>KMeans Clustering with Iris Dataset</h1>
        <h2>Download the Dataset and Code</h2>
  
    <a href="./ML/Clustering.ipynb" download>
        <button>Download clustering Code</button>
    </a>
        <p>This page demonstrates the application of KMeans clustering on the famous Iris dataset to determine the optimal number of clusters using the elbow method.</p>

        <section class="code-section">
            <h2>Python Code</h2>
            <button class="copy-btn" onclick="copyCode()">Copy Code</button>
            <pre><code id="codeBlock">
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from sklearn.cluster import KMeans
from sklearn.preprocessing import StandardScaler
from sklearn.decomposition import PCA
from sklearn.datasets import load_iris

# Load the Iris dataset
df = pd.read_csv("./datasets/iris.csv")
# Load the Iris dataset or or

#iris = load_iris()
#df = pd.DataFrame(data=iris.data, columns=iris.feature_names)
#X = df

# Select features for clustering (sepal_length, sepal_width, petal_length, petal_width)
X = df.iloc[:, 1:-1]  # Exclude ID and species columns

# Standardize the feature matrix (important for K-Means)
scaler = StandardScaler()
X_scaled = scaler.fit_transform(X)

# Determine the optimal number of clusters using the elbow method
inertia = []
for k in range(1, 11):
    kmeans = KMeans(n_clusters=k, random_state=42)
    kmeans.fit(X_scaled)
    inertia.append(kmeans.inertia_)

# Plot the elbow curve
plt.figure(figsize=(8, 6))
plt.plot(range(1, 11), inertia, marker='o', linestyle='--')
plt.xlabel('Number of Clusters')
plt.ylabel('Inertia (Within-cluster Sum of Squares)')
plt.title('Elbow Method for Optimal Number of Clusters')
plt.grid()
plt.show()
            </code></pre>
        </section>

        <section class="plot-section">
            <h2>Elbow Curve</h2>
            <p>The elbow curve below shows the inertia values for different cluster counts. The "elbow" point indicates the optimal number of clusters.</p>
            <img src="elbow_curve_placeholder.png" alt="Elbow Curve Plot" class="plot-image">
        </section>
    </div>

    <script>
        function copyCode() {
            // Select the code text
            const codeBlock = document.getElementById("codeBlock").innerText;
            navigator.clipboard.writeText(codeBlock)
                .then(() => {
                    alert("Code copied to clipboard!");
                })
                .catch((err) => {
                    alert("Failed to copy code: ", err);
                });
        }
    </script>
</body>
</html>
